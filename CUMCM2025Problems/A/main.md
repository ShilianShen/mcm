# A é¢˜ çƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥

çƒŸå¹•å¹²æ‰°å¼¹ä¸»è¦é€šè¿‡åŒ–å­¦ç‡ƒçƒ§æˆ–çˆ†ç‚¸åˆ†æ•£å½¢æˆçƒŸå¹•æˆ–æ°”æº¶èƒ¶äº‘å›¢ï¼Œåœ¨ç›®æ ‡å‰æ–¹ç‰¹å®šç©ºåŸŸå½¢æˆé®è”½ï¼Œå¹²æ‰°æ•Œæ–¹å¯¼å¼¹ï¼Œå…·æœ‰æˆæœ¬ä½ã€æ•ˆè´¹æ¯”é«˜ç­‰ä¼˜ç‚¹ã€‚éšç€çƒŸå¹•å¹²æ‰°æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œç°å·²æœ‰å¤šç§æŠ•æ”¾æ–¹å¼å®ŒæˆçƒŸå¹•å¹²æ‰°å¼¹çš„å®šç‚¹ç²¾ç¡®æŠ›æ’’ï¼Œå³åœ¨æŠ›æ’’å‰èƒ½ç²¾ç¡®æ§åˆ¶çƒŸå¹•å¹²æ‰°å¼¹åˆ°è¾¾é¢„å®šä½ç½®ï¼Œé€šè¿‡æ—¶é—´å¼•ä¿¡æ—¶åºæ§åˆ¶èµ·çˆ†æ—¶é—´ã€‚

ç°è€ƒè™‘è¿ç”¨ã€Œæ— äººæœºFYã€å®Œæˆã€ŒçƒŸå¹•å¹²æ‰°å¼¹(Smoke)ã€çš„æŠ•æ”¾ç­–ç•¥é—®é¢˜ã€‚å…·æœ‰é•¿ç»­èˆªèƒ½åŠ›çš„æ— äººæœºæŒ‚è½½æŸå‹çƒŸå¹•å¹²æ‰°å¼¹åœ¨ç‰¹å®šç©ºåŸŸå·¡é£ï¼Œå—é¢†ä»»åŠ¡åï¼Œæ— äººæœºæŠ•æ”¾çƒŸå¹•å¹²æ‰°å¼¹åœ¨æ¥è¢­æ­¦å™¨å’Œä¿æŠ¤ç›®æ ‡ä¹‹é—´å½¢æˆçƒŸå¹•é®è”½ã€‚æ¯æ¶æ— äººæœºæŠ•æ”¾ä¸¤æšçƒŸå¹•å¹²æ‰°å¼¹è‡³å°‘é—´éš”1sã€‚

```python
fy_period = 1
```

* çƒŸå¹•å¹²æ‰°å¼¹è„±ç¦»æ— äººæœºåï¼Œåœ¨é‡åŠ›ä½œç”¨ä¸‹è¿åŠ¨ã€‚çƒŸå¹•å¹²æ‰°å¼¹èµ·çˆ†å**ç¬æ—¶**å½¢æˆ**çƒçŠ¶**çƒŸå¹•äº‘å›¢ï¼Œ
* ç”±äºé‡‡ç”¨ç‰¹å®šæŠ€æœ¯ï¼Œè¯¥çƒŸå¹•äº‘å›¢ä»¥3m/sçš„é€Ÿåº¦åŒ€é€Ÿä¸‹æ²‰ã€‚
* æ®è¯•éªŒæ•°æ®çŸ¥ï¼Œäº‘å›¢ä¸­å¿ƒ10mèŒƒå›´å†…çš„çƒŸå¹•æµ“åº¦åœ¨èµ·çˆ†20så†…å¯ä¸ºç›®æ ‡æä¾›æœ‰æ•ˆé®è”½ã€‚

```python
smoke_velocity = np.array([0, 0, 3])
smoke_radius = 10
smoke_period = 20
```

æ¥è¢­æ­¦å™¨ä¸ºã€Œç©ºåœ°å¯¼å¼¹(Missile)ã€ï¼Œè¯¥å‹å¯¼å¼¹é£è¡Œé€Ÿåº¦300m/sã€‚å¯¼å¼¹çš„é£è¡Œæ–¹å‘**ç›´æŒ‡**ä¸€ä¸ª(ä¸ºæ©æŠ¤æŸåŠå¾„7mã€é«˜10mçš„åœ†æŸ±å½¢å›ºå®šã€Œç›®æ ‡(Real Target)ã€è€Œä¸“é—¨è®¾ç½®çš„)ã€Œå‡ç›®æ ‡(Fake Target)ã€ã€‚ä»¥å‡ç›®æ ‡ä¸ºåŸç‚¹ï¼Œæ°´å¹³é¢ä¸º ğ‘¥ğ‘¦å¹³é¢ï¼ŒçœŸç›®æ ‡ä¸‹åº•é¢çš„åœ†å¿ƒä¸º (0, 200, 0)ã€‚

```python
missile_speed = 300
```

```python
real_target_radius = 7
real_target_top = np.array([0, 200, 10])
real_target_button = np.array([0, 200, 0])
```

```python
fake_target = np.array([0, 0, 0])
```

è­¦æˆ’é›·è¾¾å‘ç°æ¥è¢­å¯¼å¼¹æ—¶ï¼Œ3 æšå¯¼å¼¹ M1ã€M2ã€M3 åˆ†åˆ«ä½äº

```python
M1 = np.array([20000, 0, 2000])
M2 = np.array([19000, 600, 2100])
M3 = np.array([18000, -600, 1900])
```

5 æ¶æ— äººæœºçš„ä½ç½®ä¿¡æ¯åˆ†åˆ«ä¸º

```python
FY1 = np.array([17800, 0, 1800])
FY2 = np.array([12000, 1400, 1400])
FY3 = np.array([6000, -3000, 700])
FY4 = np.array([11000, 2000, 1800])
FY5 = np.array([13000, -2000, 1300])
```

åœ¨å¯¼å¼¹æ¥è¢­è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æŠ•æ”¾çƒŸå¹•å¹²æ‰°å¼¹å°½é‡é¿å…æ¥è¢­å¯¼å¼¹å‘ç°çœŸç›®æ ‡ã€‚æ§åˆ¶ä¸­å¿ƒåœ¨è­¦æˆ’é›·è¾¾å‘ç°ç›®æ ‡æ—¶ï¼Œç«‹å³å‘æ— äººæœºæŒ‡æ´¾ä»»åŠ¡ã€‚æ— äººæœºå—é¢†ä»»åŠ¡åï¼Œ å¯æ ¹æ®éœ€è¦ç¬æ—¶è°ƒæ•´é£è¡Œæ–¹å‘ï¼Œç„¶åä»¥ 70~140 m/s çš„é€Ÿåº¦ç­‰é«˜åº¦åŒ€é€Ÿç›´çº¿é£è¡Œã€‚æ¯æ¶æ— äººæœºçš„èˆªå‘ã€é€Ÿåº¦å¯ä¸ç›¸åŒï¼Œä½†ä¸€æ—¦ç¡®å®šå°±ä¸å†è°ƒæ•´ã€‚

```python
fy_speed_min = 70
fy_speed_max = 140
```

ä¸ºå®ç°æ›´ä¸ºæœ‰æ•ˆçš„çƒŸå¹•å¹²æ‰°æ•ˆæœï¼Œéœ€è®¾è®¡çƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥ï¼Œä¸»è¦åŒ…æ‹¬æ— äººæœºé£è¡Œæ–¹å‘ã€é£è¡Œé€Ÿåº¦ã€çƒŸå¹•å¹²æ‰°å¼¹æŠ•æ”¾ç‚¹ã€çƒŸå¹•å¹²æ‰°å¼¹èµ·çˆ†ç‚¹ç­‰ã€‚è¯·å»ºç«‹æ•°å­¦æ¨¡å‹ï¼Œé’ˆå¯¹ä¸åŒæƒ…å½¢ï¼Œ åˆ†åˆ«è®¾è®¡çƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥ï¼Œ ä½¿å¾—å¤šæšçƒŸå¹•å¹²æ‰°å¼¹å¯¹çœŸç›®æ ‡çš„æœ‰æ•ˆé®è”½æ—¶é—´å°½å¯èƒ½é•¿ã€‚ä¸åŒçƒŸå¹•å¹²æ‰°å¼¹çš„é®è”½å¯ä¸è¿ç»­ã€‚

## å»ºæ¨¡

è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ°äº”ä¸ªå®ä½“: å¯¼å¼¹, æ— äººæœº, çƒŸé›¾, çœŸç›®æ ‡, å‡ç›®æ ‡

```mermaid
flowchart LR
    æ— äººæœº -- æŠ•æ”¾/å¼•çˆ† --> çƒŸé›¾ -- å¹²æ‰° --> å¯¼å¼¹
    çƒŸé›¾ -- é®æ© --> çœŸç›®æ ‡
    å¯¼å¼¹ -- å¨èƒåˆ° --> çœŸç›®æ ‡
    å¯¼å¼¹ -- ç›´å‘ --> å‡ç›®æ ‡
```

å…¶ä¸­æ— äººæœºåªå¯¹çƒŸé›¾äº§ç”Ÿç›´æ¥å½±å“, æ‰€ä»¥å°†é—®é¢˜æ‹†åˆ†:

1. å¯¼å¼¹çš„ä½ç½®
2. æ— äººæœºé‡Šæ”¾çƒŸé›¾çš„æ—¶æœº, ä½ç½®
3. çƒŸé›¾, å¯¼å¼¹, çœŸç›®æ ‡çš„ä½ç½®å…³ç³»
4. é®æ©æ—¶é—´

### å¯¼å¼¹

* ä»¤å‡½æ•°$\mu_i(t)$è¡¨ç¤ºç¬¬$i$ä¸ªå¯¼å¼¹åœ¨$t$æ—¶åˆ»çš„åæ ‡.

### æ— äººæœº

å¯ä»¥è®¾ç½®çš„æ— äººæœºçš„å‚æ•°ä¸º: $ v_j, \theta_j, t_{jk}, t'_{jk} $

å…¶ä¸­æœ‰çº¦æŸ

$$
\begin{cases}
v_{min}\le v< v_{max} \\
0 \le\theta<360^\circ \\
t_k+1 \le t_{k+1} \\
0 \le t_k \\
 0\le t'_k
\end{cases}
$$

* ä»¤å‡½æ•°$\phi_j(t)$è¡¨ç¤ºç¬¬$j$ä¸ªæ— äººæœºåœ¨$t$æ—¶åˆ»çš„åæ ‡.
* ä»¤å‡½æ•°$\sigma_{jk}(t)$è¡¨ç¤ºç¬¬$j$ä¸ªæ— äººæœºçš„ç¬¬$k$ä¸ªçƒŸé›¾å¼¹åœ¨$t$æ—¶åˆ»çš„åæ ‡.

### çƒŸé›¾, å¯¼å¼¹, çœŸç›®æ ‡çš„ä½ç½®å…³ç³»

å…³äºçƒŸé›¾, å¯¼å¼¹, çœŸç›®æ ‡çš„ä½ç½®å…³ç³», æˆ‘ä»¬åªå…³å¿ƒã€Œæ˜¯å¦é®æ©æˆåŠŸã€.

* å®šä¹‰: ä»»ä½•è¿æ¥æŸå¯¼å¼¹å’ŒçœŸç›®æ ‡çš„çº¿æ®µéƒ½ç»è¿‡æŸçƒŸé›¾, åˆ™ç§°è¯¥çƒŸé›¾é®æ©äº†è¯¥å¯¼å¼¹.
* å®šä¹‰(ç­‰ä»·): è‹¥çœŸç›®æ ‡åŒ…å«åœ¨æŸå¯¼å¼¹å› æŸçƒŸé›¾çš„ç›²åŒº(åœ†é”¥)å†…, åˆ™ç§°è¯¥çƒŸé›¾é®æ©äº†è¯¥å¯¼å¼¹.
* å®šä¹‰: å¤æ•°çƒŸé›¾ä¸­, å­˜åœ¨çƒŸé›¾é®æ©æŸå¯¼å¼¹, åˆ™ç§°è¿™äº›çƒŸé›¾é®æ©äº†è¯¥å¯¼å¼¹.
* å®šä¹‰: å¤æ•°å¯¼å¼¹ä¸­, ä»»æ„å¯¼å¼¹éƒ½è¢«çƒŸé›¾é®æ©, åˆ™ç§°è¿™äº›çƒŸé›¾é®æ©äº†è¿™äº›å¯¼å¼¹.

$\mathcal{M} = \{M_i\}_{i\le n},  \mathcal{S} = \{S_j\}_{j\le m} $

$ g(M, \mathcal{S})=\lor_{j\le m}g(M, S_j)$

$ g(\mathcal{M}, \mathcal{S})=\land_{i\le n}\lor_{j\le m}g(M_i, S_j) $

ç»“è®º: å› ä¸ºçƒŸé›¾ä¸ºçƒ, å¯¼å¼¹ä¸ºç‚¹ä¸”ä¸åœ¨çƒŸé›¾å†…, æ‰€ä»¥å¯¼å¼¹çš„è§†é‡ç›²åŒºä¸ºåœ†é”¥.

> ...

ç»“è®º: çœŸç›®æ ‡çš„é¡¶é¢å’Œåº•é¢éƒ½è¢«æŸåœ†é”¥åŒ…å«, çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯, çœŸç›®æ ‡è¢«è¯¥åœ†é”¥åŒ…å«.

> ...

### é®æ©æ—¶é—´

$$
S(t)=\mu(\vec{x}, v, \theta, t_k, t'_k, t)\\
\tau(M, S)=[\min_{g(M, S(t))=1} t, \max_{g(M, S(t))=1} t] \\
\tau(M, \mathcal{S})=\cup_{j\le m}\tau(M, S_j) \\
\tau(\mathcal{M}, \mathcal{S})=\cap_{i\le n}\cup_{j\le m}\tau(M_i, S_j)
$$

$$
\lambdaä¸º\mathbb{R}ä¸Šçš„Lebesgueæµ‹åº¦\\
\lambda \circ \tau(\mathcal{M}, \mathcal{S})ä¸ºå®é™…é®æ©æ—¶é—´
$$

### å‚æ•°ä¼˜åŒ–(é’ˆå¯¹é—®é¢˜äºŒã€ä¸‰ã€å››ã€äº”)

é—®é¢˜äºŒã€ä¸‰ã€å››ã€äº”å‡ä¸å‚æ•°ä¼˜åŒ–é—®é¢˜æœ‰å…³, æˆ‘ä»¬ä½¿ç”¨æ¢¯åº¦ä¸‹é™ä¸ºä¸»è¦æ–¹æ³•æ±‚å‚æ•°.

#### é—®é¢˜æƒ…æ™¯

$f$æ˜¯ä»¥$x$ä¸ºå‚æ•°çš„å‡½æ•°, éœ€è¦æ±‚è§£ä½¿$f$çš„æ•°å€¼æœ€å°çš„$x$, å³æ±‚$\arg\min f(x)$.

#### æ¢¯åº¦å®šä¹‰

$$
\text{grad}f(x):=(\frac{\partial f(x)}{\partial x_1}, \frac{\partial f(x)}{\partial x_2}, ...)
$$

#### ä½¿ç”¨ä¸­å¿ƒå·®åˆ†è¿‘ä¼¼åå¯¼æ•°

ä½¿ç”¨ä¸­å¿ƒå·®åˆ†è¿‘ä¼¼$f$åœ¨ç¬¬$i$ç»´åº¦ä¸Šçš„åå¯¼æ•°, å…¶ä¸­$h$æ˜¯åªåœ¨ç¬¬$i$ä¸ªç»´åº¦ä¸Šä¸ä¸ºé›¶, ä¸”æ¨¡é•¿å°çš„å‘é‡, $O(|h|^4)$ä¸ºè¯¯å·®.

$$
\frac{\partial f(x)}{\partial x_i} = \frac{f(x + h) - f(x - h)}{2|h|}+O(|h|^4)
$$

#### è¿­ä»£æ–¹ç¨‹

ä»¥æŸ$x_0$ä¸ºèµ·å§‹çŠ¶æ€, $r$ä¸ºå­¦ä¹ ç‡, è¿­ä»£å¾—åˆ°$\arg\min f(x)$

$$
\begin{cases}
\Delta x_k=-r \cdot \text{grad}f(x_k) \\
x_{k+1}=x_k+\Delta x_k
\end{cases}
$$

## é—®é¢˜ 1

åˆ©ç”¨æ— äººæœº FY1 æŠ•æ”¾ 1 æšçƒŸå¹•å¹²æ‰°å¼¹å®æ–½å¯¹ M1 çš„å¹²æ‰°ï¼Œè‹¥ FY1 ä»¥ 120 m/s çš„é€Ÿåº¦æœå‘å‡ç›®æ ‡æ–¹å‘é£è¡Œï¼Œå—é¢†ä»»åŠ¡ 1.5 s åå³æŠ•æ”¾ 1 æšçƒŸå¹•å¹²æ‰°å¼¹ï¼Œé—´éš” 3.6 s åèµ·çˆ†ã€‚è¯·ç»™å‡ºçƒŸå¹•å¹²æ‰°å¼¹å¯¹ M1 çš„æœ‰æ•ˆé®è”½æ—¶é•¿ã€‚

$$
\lambda\circ\tau(M_1, S_{11})=?
$$

## é—®é¢˜ 2

åˆ©ç”¨æ— äººæœº FY1 æŠ•æ”¾ 1 æšçƒŸå¹•å¹²æ‰°å¼¹å®æ–½å¯¹ M1 çš„å¹²æ‰°ï¼Œç¡®å®š FY1 çš„é£è¡Œæ–¹å‘ã€é£è¡Œé€Ÿåº¦ã€çƒŸå¹•å¹²æ‰°å¼¹æŠ•æ”¾ç‚¹ã€çƒŸå¹•å¹²æ‰°å¼¹èµ·çˆ†ç‚¹ï¼Œä½¿å¾—é®è”½æ—¶é—´å°½å¯èƒ½é•¿ã€‚

$$
\arg\max \lambda\circ \tau(\mu_1, \sigma_{11})=?
$$

å°†è¯¥é—®é¢˜è½¬ä¸ºæ¢¯åº¦ä¸‹é™çš„å‚æ•°ä¼˜åŒ–è¿‡ç¨‹

$$
\begin{matrix}
x := (v_1, \theta_1, t_{11}, t_{11}') \\
f(x) := -\lambda\circ\tau(\mu_1, \sigma_{11}) \\
\arg\min_x f(x) =\arg\max \lambda\circ \tau(\mu_1, \sigma_{11})
\end{matrix}
$$

## é—®é¢˜ 3

åˆ©ç”¨æ— äººæœº FY1 æŠ•æ”¾ 3 æšçƒŸå¹•å¹²æ‰°å¼¹å®æ–½å¯¹ M1 çš„å¹²æ‰°ã€‚ è¯·ç»™å‡ºçƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æ–‡ä»¶ result1.xlsx ä¸­ï¼ˆæ¨¡æ¿æ–‡ä»¶è§é™„ä»¶ï¼‰ ã€‚

$$
S=\{\sigma_{1,k}\}_{k\le3}\\
\arg\max \lambda\circ\sigma(\mu_1, S)=?
$$

å°†è¯¥é—®é¢˜è½¬ä¸ºæ¢¯åº¦ä¸‹é™çš„å‚æ•°ä¼˜åŒ–è¿‡ç¨‹

$$
\begin{matrix}
x:=(v_1, \theta_1, t_{1k}, t_{1k}'), k\le3\\
f(x) := -\lambda\circ\tau(\mu_1, S) \\
\arg\min_x f(x) =\arg\max \lambda\circ \tau(\mu_1, S)
\end{matrix}
$$

## é—®é¢˜ 4

åˆ©ç”¨ FY1ã€FY2ã€FY3 ç­‰ 3 æ¶æ— äººæœºï¼Œå„æŠ•æ”¾ 1 æšçƒŸå¹•å¹²æ‰°å¼¹ï¼Œå®æ–½å¯¹ M1 çš„å¹²æ‰°ã€‚è¯·ç»™å‡ºçƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æ–‡ä»¶ result2.xlsx ä¸­ï¼ˆæ¨¡æ¿æ–‡ä»¶è§é™„ä»¶ï¼‰.

$$
S=\{\sigma_{j1}\}_{j\le3}\\
\arg\max \lambda\circ\sigma(\mu_1, S)=?
$$

å°†è¯¥é—®é¢˜è½¬ä¸ºæ¢¯åº¦ä¸‹é™çš„å‚æ•°ä¼˜åŒ–è¿‡ç¨‹

$$
\begin{matrix}
x:=(v_1, \theta_1, t_{j1}, t_{j1}'), j\le3\\
f(x) := -\lambda\circ\tau(\mu_1, S) \\
\arg\min_x f(x) =\arg\max \lambda\circ \tau(\mu_1, S)
\end{matrix}
$$

## é—®é¢˜ 5

åˆ©ç”¨ 5 æ¶æ— äººæœºï¼Œæ¯æ¶æ— äººæœºè‡³å¤šæŠ•æ”¾ 3 æšçƒŸå¹•å¹²æ‰°å¼¹ï¼Œ å®æ–½å¯¹ M1ã€ M2ã€ M3
ç­‰ 3 æšæ¥è¢­å¯¼å¼¹çš„å¹²æ‰°ã€‚ è¯·ç»™å‡ºçƒŸå¹•å¹²æ‰°å¼¹çš„æŠ•æ”¾ç­–ç•¥ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æ–‡ä»¶ result3.xlsx ä¸­
ï¼ˆæ¨¡æ¿æ–‡ä»¶è§é™„ä»¶ï¼‰ã€‚

$$
M=\{\mu_i\}_{i\le3}, S=\{\sigma_{jk}\}_{j\le5,k\le3}\\
\arg\max \lambda\circ\sigma(M, S)=?
$$

å°†è¯¥é—®é¢˜è½¬ä¸ºæ¢¯åº¦ä¸‹é™çš„å‚æ•°ä¼˜åŒ–è¿‡ç¨‹

$$
\begin{matrix}
x:=(v_1, \theta_1, t_{jk}, t_{jk}'), j\le5, k\le3\\
f(x) := -\lambda\circ\tau(M, S) \\
\arg\min_x f(x) =\arg\max \lambda\circ \tau(M, S)
\end{matrix}
$$
